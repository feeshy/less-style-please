<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang }}">

<head>
  {%-include head.html-%}
  <style>
    li a {
      text-decoration: none;
    }
  </style>
</head>

<body>
  {% include nav.html %}
  <main class="page-content" aria-label="Content">
    <header>
      {%-if site.show_logo-%}
      <h1 style="display: inline-flex; flex-direction: row; align-items: center;"><img
          src="{{ site.favicon.svg | relative_url }}" style="height:1.5em; width: 1.5em;">&nbsp;<span id="title"></span>
      </h1>
      {%-else-%}
      <h1><span id="title"></span></h1>
      {%-endif-%}
      {{ content }}
    </header>
    {%- assign taglist = "" | split: '' -%}
    {%- for post in site.posts -%}
    {%- if post.tags -%}
    {%- assign taglist = taglist | concat: post.tags -%}
    {%- endif -%}
    {%- endfor -%}
    {%- for tag in taglist -%}
    <ul id="{{ tag }}" style="display: none;">
      {%- for post in site.tags[tag] -%}
      {%- if post.tags -%}
      <li><a href="{{ post.url | relative_url }}">{{ post.title }}</a></li>
      {%- endif -%}
      {%- endfor -%}
    </ul>
    {%- endfor -%}
  </main>
  {%-if site.goat_counter and jekyll.environment == "production"-%}
  {% include goat_counter.html %}
  {%-endif-%}
</body>

<script>
  function getUrlParameter(sParam) {
    var rParams = window.location.search.substring(1);
    var aParams = rParams.split('&');
    for (var i = 0; i < aParams.length; i++) {
      var sParameterName = aParams[i].split('=');
      if (sParameterName[0] == sParam) {
        return decodeURIComponent(sParameterName[1]);
      }
    }
  }
  window.onload = function () {
    var tag = getUrlParameter('tag');
    if (tag && document.getElementById(tag)) {
      document.getElementById(tag).style.display = 'unset';
      document.getElementById('title').innerHTML = tag;
    } else {
      document.getElementById('title').innerHTML = 'Illegal Tag Query';
    }
  };
</script>

</html>